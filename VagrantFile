Vagrant.configure("2") do |config|

  config.vm.box = "vault-tree"

  #Uncomment to Reprovision
  #config.vm.box_url = "http://files.vagrantup.com/precise64.box"
  #config.vm.provision :shell, :path => VagrantHelpers::PathHelpers.provision_core
  #config.vm.provision :shell, :path => VagrantHelpers::PathHelpers.provision_ruby
  #config.vm.provision :shell, :path => VagrantHelpers::PathHelpers.ownership_change
  #config.vm.provision :shell, :path => VagrantHelpers::PathHelpers.build_postinstall
end

module VagrantHelpers
  module PathHelpers
    extend self

    def provision_core
      "#{provision_dir}/provision_core.sh"
    end

    def provision_ruby
      "#{provision_dir}/provision_ruby.sh"
    end

    def provision_ruby_dependencies
      "#{provision_dir}/provision_ruby_dependencies.sh"
    end

    def build_postinstall
      "#{provision_dir}/build_postinstall.sh"
    end

    def project_postinstall
      "#{provision_dir}/project_postinstall.sh"
    end

    def ownership_change
      "#{provision_dir}/ownership_change.sh"
    end

    def provision_script
      "#{provision_dir}/provision_vagrant.sh"
    end

    def provision_dir
      "#{project_dir}/lib/vagrant"
    end

    def project_dir
      File.expand_path(current_dir_rel)
    end

    def current_dir_rel
      File.dirname(__FILE__)
    end
  end
end
