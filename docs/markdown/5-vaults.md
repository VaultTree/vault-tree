## Vaults

We discussed earlier how Vault Tree contracts are just a collection of vaults
arranged to enforce the terms of the contract.

Let's take a look at an example:

```javascript
"bob_random_vault_key": {
  "fill_with": "RANDOM_NUMBER",
  "lock_with": "CONTENTS['bob_vault_key']",
  "unlock_with": "CONTENTS['alice_vault_key']",
  "contents": "rSGrWGL4mEYtpuIaWO/iVGXAA5UUyLeeImSV3SBXzb+C7DW3"
}
```

It's important to keep in mind that, **every** vault follows this format. This convention for representing a vault should be sufficient to build any type of simplistic or sophisticated contract.

### Vault Id

The **Vault Id** can be thought of as both the name and the **Unique** identifier of the vault.

In this case we have:

```
"bob_random_vault_key"
```

Try to give meaningful names that give insight into the locked contents held within the vault. Also, by convention vault names should begin with the name of the vault owner.

A vault owner is the contract party that is responsibily for filling and locking the vault. In this simple case we have **bob**, but in an employment contract for example, we may have vault owners named **employer** and **employee**.

It is the responsibility of the contract author to assign vault owners in such a way that there are no contract [moral hazards] or [perverse incentives].

[moral hazards]: http://en.wikipedia.org/wiki/Moral_hazard
[perverse incentives]: http://en.wikipedia.org/wiki/Perverse_incentive

### Fill With

The **fill_with** field identifies the source of the [Plaintext] contents of the
vault. It can be:

* a value generated by the Vault Tree library.
* external information that is brought into the contract.
* the contents of anther vault.

In the example above, the Vault Tree interpreter knows to generate a simple random number, and place it into the vault.

[Plaintext]: http://en.wikipedia.org/wiki/Plaintext 

### Lock With

The **lock_with** field identifies the source of the vault **Locking Key**. 


### Unlock With

The **unlock_with** field naturally identifies the source of the vault **Unlocking Key**.

It may not be obvious, but the reference to the Unlocking key does not necessarily need to be the same as the reference to the **Locking Key**. Here are some examples of where this could be the case: 

* The same key is used to lock and unlock the vault, but copies of this key are held in two separate vaults. Take a look at the **Block Chain Key Transfer** contract to see a good example.
* Vault Tree supports the notion of an **Asymmetric Vault** through the _DSL Keyword_

```
SHARED_KEY
```

This is a vault that is locked and unlocked with the help of a [Public-Private](http://en.wikipedia.org/wiki/Public-key_cryptography) keypair. Vault Tree's underlying cryptographic library makes this possible by implementing a cutting edge variant of the [ECDH] key exchange protocol.  

[ECDH]: http://en.wikipedia.org/wiki/Elliptic_curve_Diffie%E2%80%93Hellman

#### Contents

As you would expect, this field references the encrypted contents of the vault. In the example above you can see the _Base 64_ encoded ciphertext:

```
"contents": "rSGrWGL4mEYtpuIaWO/iVGXAA5UUyLeeImSV3SBXzb+C7DW3"
```
Here are some items to keep in mind:

* Vaults are either **Empty** or **Closed**, this corresponds to either a **Blank Value** or a **Ciphertext Value**
* If we want everyone to have access to the contents we simply lock the closed vault with a public value. See the _DSL Keyword_

```
UNLOCKED
```

for description on how to do this in practice.
